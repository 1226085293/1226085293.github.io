---
title: 导出式单例和函数式单例的区别
date: 2020-07-23 20:14:00
tags:
  - Typescript
  - 单例模式
---

大家或多或少都用过单例模式，那么我就在这里和大家说说这两种单例的区别：

## 导出式单例

```ts
class A {...}

export default new A;
```

这种单例很方便， 但也是因为方便，这个导出的单例在脚本加载时就已经创建好了对象。特别是在 construct 里面初始化资源或者计算的一些类，会严重拖慢启动速度。

## 函数式单例

推荐使用这种方式，在第一次获取时创建，构造也能分开进行。但是写多了单例类之后你就会发现。每次都要添加重复的函数和实例变量。所以可以将其封装为一个基类，参考下方链接

https://muzzik.gitee.io/blog/notes/language/typescript/2.html
